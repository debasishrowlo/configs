set nocompatible

set diffexpr=MyDiff()
function MyDiff()
	let opt = '-a --binary '
	if &diffopt =~ 'icase' | let opt = opt . '-i ' | endif
	if &diffopt =~ 'iwhite' | let opt = opt . '-b ' | endif
	let arg1 = v:fname_in
	if arg1 =~ ' ' | let arg1 = '"' . arg1 . '"' | endif
	let arg2 = v:fname_new
	if arg2 =~ ' ' | let arg2 = '"' . arg2 . '"' | endif
	let arg3 = v:fname_out
	if arg3 =~ ' ' | let arg3 = '"' . arg3 . '"' | endif
	let eq = ''
	if $VIMRUNTIME =~ ' '
		if &sh =~ '\<cmd'
			let cmd = '""' . $VIMRUNTIME . '\diff"'
			let eq = '"'
		else
			let cmd = substitute($VIMRUNTIME, ' ', '" ', '') . '\diff"'
		endif
	else
		let cmd = $VIMRUNTIME . '\diff'
	endif
	silent execute '!' . cmd . ' ' . opt . arg1 . ' ' . arg2 . ' > ' . arg3 . eq
endfunction

if has('gui_running')
	colorscheme dracula
	set guifont=consolas:h10
	set guioptions-=m  "remove menu bar
	set guioptions-=T  "remove toolbar
	set guioptions-=r  "remove right-hand scroll bar
	set guioptions-=L  "remove left-hand scroll bar
endif

set nohlsearch
set nowrap
set relativenumber
set number
set tabstop=2
set shiftwidth=2
set splitright
set smartcase
set ic
set smartindent
set noswapfile
set nobackup
set nowritebackup
set noundofile
set linespace=6

let mapleader=","

imap jk <ESC>
imap JK <ESC>
map ; :
map <F2> :e $HOME/_vimrc<CR>
map <C-h> <C-w>h
map <C-l> <C-w>l
map <C-j> <C-w>j
map <C-k> <C-w>k
map <F3> :NERDTreeToggle<CR>
map <F4> :NERDTreeFind<CR>
map tj :tabnext<CR>
map tk :tabprev<CR>
map th :tabm -1<CR>
map tl :tabm +1<CR>
map <Leader>t :tabnew<CR>
map <Leader>e <C-y>,
map <Leader>s :%s/
map <Leader>c :.,$s/
map <Leader>f :Unite line<CR> i

set foldmethod=indent
set foldlevelstart=99
map <C-k>0 :set foldlevel=0 <CR>
map <C-k>1 :set foldlevel=1 <CR>
map <C-k>2 :set foldlevel=2 <CR>
map <C-k>3 :set foldlevel=3 <CR>
map <C-k>4 :set foldlevel=4 <CR>
map <C-k>5 :set foldlevel=5 <CR>
map <C-k>6 :set foldlevel=6 <CR>

if &compatible
	set nocompatible
endif

filetype plugin indent on

let g:ctrlp_custom_ignore = 'node_modules\|DS_Store\|git\|bower_components\|vendor'

set wildignore+=/node_modules,/vendor

if &compatible
	set nocompatible
endif

" Add the dein installation directory into runtimepath
set runtimepath+=~/.cache/dein/repos/github.com/Shougo/dein.vim

if dein#load_state('~/.cache/dein')
	call dein#begin('~/.cache/dein')

	call dein#add('~/.cache/dein')
	call dein#add('mhinz/vim-signify')
	call dein#add('captbaritone/better-indent-support-for-php-with-html')
	call dein#add('easymotion/vim-easymotion')
	call dein#add('mattn/emmet-vim')
	call dein#add('honza/vim-snippets')
	call dein#add('junegunn/vim-easy-align')
	call dein#add('kien/ctrlp.vim')
	call dein#add('Raimondi/delimitMate')
	call dein#add('scrooloose/nerdcommenter')
	call dein#add('scrooloose/nerdtree')
	call dein#add('scrooloose/syntastic')
	call dein#add('Shougo/deoplete.nvim')
	call dein#add('Shougo/unite.vim')
	call dein#add('SirVer/ultisnips')
	call dein#add('terryma/vim-multiple-cursors')
	call dein#add('tmhedberg/matchit')
	call dein#add('tpope/vim-surround')
	call dein#add('tpope/vim-fugitive')
	call dein#add('Valloric/YouCompleteMe')

	if !has('nvim')
		call dein#add('roxma/nvim-yarp')
		call dein#add('roxma/vim-hug-neovim-rpc')
	endif

	call dein#end()
	call dein#save_state()
endif

let NERDTreeShowHidden=1
let g:ctrlp_show_hidden = 1

syntax enable

